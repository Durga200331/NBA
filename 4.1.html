<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment Ratio Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            width: 60%;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .criteria {
            background-color: #f9f9f9;
            padding: 10px;
            margin: 10px 0;
            border-left: 5px solid #4CAF50;
        }

        .criteria p {
            margin: 5px 0;
        }

        .title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .points {
            color: #555;
            font-weight: bold;
        }

        .result {
            font-size: 1.2em;
            font-weight: bold;
            color: #4CAF50;
        }

        .input-field {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            box-sizing: border-box;
        }

        .button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }

        .button:hover {
            background-color: #45a049;
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
    </style>
    <script>
        function calculateMarks() {
            var averageStudents = parseFloat(document.getElementById("averageStudents").value);
            var currentStudents = parseFloat(document.getElementById("currentStudents").value);
            var percentage = (currentStudents / averageStudents) * 100;
            var marks = 0;

            if (isNaN(averageStudents) || isNaN(currentStudents)) {
                alert("Please enter valid numbers.");
                return;
            }

            if (percentage >= 90) {
                marks = 20;
            } else if (percentage >= 80) {
                marks = 18;
            } else if (percentage >= 70) {
                marks = 16;
            } else if (percentage >= 60) {
                marks = 14;
            } else if (percentage >= 50) {
                marks = 12;
            } else {
                marks = 0;
            }

            // Store marks in localStorage
            localStorage.setItem('marks_4_1', marks);

            // Display result
            document.getElementById("result").innerText = "Percentage: " + percentage.toFixed(2) + "%, Marks: " + marks;

            // Simulate saving data and navigate to 4.2
            setTimeout(function () {
                window.location.href = "4.2.html"; // Replace with the actual URL for section 4.2
            }, 1000); // Delay for demonstration purposes, remove in actual use

            // Set total marks for later use in totalmarks.html
            localStorage.setItem('totalMarks_4_1', marks); // Marks from section 4.1
        }

        function saveAndNext() {
            calculateMarks(); // Call calculateMarks to ensure marks are stored
            // Add any additional logic needed before navigating to next section
            // In this example, we directly navigate to the next section after saving
            // Adjust the URL as per your file naming and structure
            setTimeout(function () {
                window.location.href = "4.2.html"; // Replace with the actual URL for section 4.2
            }, 1000); // Delay for demonstration purposes, remove in actual use
        }
    </script>
</head>

<body>
    <div class="container">
        <div class="title">4.1. Enrollment Ratio Calculator</div>
        <div class="criteria">
            <p>Enter the average number of students enrolled in the first year during the previous three academic years:</p>
            <input type="number" id="averageStudents" class="input-field" placeholder="Enter average number of students" min="0">
            <p>Enter the current number of students enrolled in the first year:</p>
            <input type="number" id="currentStudents" class="input-field" placeholder="Enter current number of students" min="0">
            <div class="button-container">
                <button class="button" onclick="calculateMarks()">Save</button>
                <button class="button" onclick="saveAndNext()">Next</button>
            </div>
        </div>
        <div id="result" class="result"></div>
        <div id="totalMarks" style="display: none;"></div> <!-- This is hidden but will hold the total marks -->
    </div>
</body>

</html>
